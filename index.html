<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Welcome to My Webpage — Subrata Pramanik</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    :root{
      --accent1:#2b5fa8;    /* deep blue */
      --accent2:#213e63;
      --bg:#eef6ff;
      --card: rgba(255,255,255,0.98);
      --muted:#596472;
      --max-width:1200px;
      /* use the cleaned simple filename inside images/ */
      --flower-img: url("images/flower.png");
    }

    html,body{ margin:0; padding:0; font-family: "Georgia", serif; background: var(--bg); color:#111; scroll-behavior:smooth; }

    /* LEFT + RIGHT FLORAL BACKGROUNDS */
    body::before, body::after{
      content:"";
      position:fixed;
      top:0; bottom:0;
      width:220px;
      z-index:-1;
      pointer-events:none;
      background-repeat:no-repeat;
      background-size:cover;
      background-position:center;
      opacity:0.88;
      filter: saturate(1.05) brightness(1.03);
    }
    body::before{ left:0; background-image: linear-gradient(180deg, rgba(255,255,255,0.22), rgba(255,255,255,0.0)), var(--flower-img); transform: translateX(-18px); }
    body::after{ right:0; background-image: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.0)), var(--flower-img); transform: translateX(18px) scaleX(-1); }

    @media (max-width:1100px){ body::before, body::after{ display:none; } }

    /* Header / nav */
    header.topbar{
      background: linear-gradient(90deg, var(--accent1), var(--accent2));
      color:#fff; padding:22px 0 8px;
      box-shadow:0 10px 20px rgba(0,0,0,0.12);
      position: sticky; top:0; z-index:120;
    }
    .wrap{ max-width:var(--max-width); margin:0 auto; padding:0 20px; }
    .title{ text-align:center; font-size:28px; font-weight:700; letter-spacing:0.4px; }

    nav.global{ display:flex; justify-content:center; gap:10px; padding:10px 8px; background: rgba(0,0,0,0.05); flex-wrap:wrap; }
    nav.global a{ color:#fff; text-decoration:none; padding:8px 12px; border-radius:8px; font-weight:600; transition: all .18s; }
    nav.global a:hover{ transform: translateY(-2px); background: rgba(255,255,255,0.06); }
    nav.global a.active{ box-shadow: inset 0 -3px 0 rgba(255,255,255,0.12); }

    /* Layout */
    main.container{ max-width:var(--max-width); margin:30px auto 80px; padding:0 20px; display:grid; grid-template-columns:280px 1fr 340px; gap:28px; align-items:start; }
    @media (max-width:1100px){ main.container{ grid-template-columns: 1fr; padding:0 14px; } }

    /* Cards */
    .section-card{
      background:var(--card); border-radius:12px; padding:18px; margin-bottom:20px;
      box-shadow:0 10px 30px rgba(40,10,40,0.06); border:1px solid rgba(0,0,0,0.04);
      opacity:0; transform: translateY(14px); transition: all 560ms cubic-bezier(.2,.9,.2,1);
    }
    .section-card.visible{ opacity:1; transform: translateY(0); }
    .section-card h2{ margin-top:0; color:var(--accent2); font-size:18px; border-bottom:1px dashed rgba(0,0,0,0.06); padding-bottom:8px; }

    /* Profile box */
    .profile .img{ width:100%; height:280px; overflow:hidden; border-radius:12px; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg,#fff,#eef6ff); }
    /* profile image is circular: uses border-radius + alpha PNG if available */
    .profile .img img{
      width:220px; height:220px; object-fit:cover; border-radius:50%;
      box-shadow:0 8px 20px rgba(0,0,0,0.15); border:6px solid rgba(255,255,255,0.85);
      display:block;
    }
    .profile h3{ text-align:center; margin:12px 0 6px; font-size:18px; }
    .profile p.meta{ text-align:center; font-size:13px; color:var(--muted); line-height:1.45; }

    /* Map */
    #map{ width:100%; height:340px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); }

    /* Gallery grid */
    .gallery-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(160px,1fr)); gap:10px; }
    .gallery-item{ border-radius:8px; overflow:hidden; background:#f8fafc; cursor:pointer; border:1px solid rgba(0,0,0,0.04); }
    .gallery-item img{ width:100%; height:140px; object-fit:cover; display:block; transition: transform .3s ease; }
    .gallery-item img:hover{ transform: scale(1.03); }

    /* Modal */
    .modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,0.6); z-index:220; }
    .modal .content{ max-width:940px; width:92%; background:white; padding:12px; border-radius:10px; }
    .modal img{ width:100%; height:auto; display:block; border-radius:6px; }

    .small{ font-size:13px; color:var(--muted); }
    .btn{ background:var(--accent1); color:white; padding:8px 12px; border-radius:8px; border:none; cursor:pointer; }

    /* Footer single line center, improved style */
    footer{ margin-top:40px; padding:0; }
    .footer-line{ max-width:var(--max-width); margin:18px auto 28px; padding:14px 20px; text-align:center; color: #213048; font-size:15px; background: rgba(255,255,255,0.65); border-radius:10px; box-shadow:0 6px 18px rgba(30,20,40,0.03); }

    /* Inputs */
    input[type=text], input[type=email], textarea, select { width:100%; padding:8px; border-radius:6px; border:1px solid #d5dbe6; box-sizing:border-box; font-family:inherit; }
    textarea{ min-height:90px; resize:vertical; }

    /* small helper */
    .pill{ display:inline-block; background:rgba(0,0,0,0.06); padding:4px 8px; border-radius:200px; font-size:12px; }

  </style>
</head>
<body>

  <header class="topbar" id="site-header">
    <div class="wrap">
      <div class="title">Welcome to My Webpage</div>
    </div>

    <nav class="global" aria-label="Main navigation">
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#education">Education</a>
      <a href="#experience">Experience</a>
      <a href="#teaching">Teaching</a>
      <a href="#courses">Courses</a>
      <a href="#resume">Resume</a>
      <a href="#publications">Publications</a>
      <a href="#projects">Projects</a>
      <a href="#skills">Skills</a>
      <a href="#awards">Awards</a>
      <a href="#talks">Talks</a>
      <a href="#services">Services</a>
      <a href="#blog">Blog</a>
      <a href="#memory">Memory</a>
      <a href="#contact">Contact</a>
      <a href="#updates">Updates</a>
      <a href="#jobs">Job Updates</a>
    </nav>
  </header>

  <main class="container" id="page-main">
    <!-- LEFT -->
    <aside class="left-col">
      <div class="profile section-card" id="card-profile">
        <div class="img">
          <!-- Use the processed circular PNG (images/profile.png). lazy + srcset -->
          <img
            src="images/profile.png"
            srcset="images/profile.png 1x"
            alt="Subrata Pramanik"
            loading="lazy"
            width="220" height="220"
          >
        </div>
        <h3>Subrata Pramanik</h3>
        <p class="meta">Junior Research Fellow<br>M.Tech – Ph.D.<br>Indian Institute of Information Technology Allahabad<br><span class="small">Contact: +91-your-phone • your-email@example.com</span></p>

        <div style="margin-top:12px;">
          <div class="small">Current time</div>
          <div id="clock" style="font-weight:700; margin-top:6px;">--:--:--</div>
          <div id="date" class="small"></div>
        </div>

        <div style="margin-top:12px;">
          <div class="small">Local temperature</div>
          <div id="temperature" style="font-weight:700; margin-top:6px;">Loading...</div>
          <div class="small">(Uses browser location — no API key)</div>
        </div>
      </div>

      <div class="section-card" style="margin-top:16px;">
        <h2>Quick Links</h2>
        <ul>
          <li><a href="#resume">Resume</a></li>
          <li><a href="#publications">Publications</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
    </aside>

    <!-- CENTER -->
    <section class="center-col">
      <section id="home" class="section-card"><h2>Home</h2>
        <p>Welcome — I am <strong>Subrata Pramanik</strong>, M.Tech – Ph.D. from Indian Institute of Information Technology Allahabad. This page shows my profile, publications, projects, gallery (memory), and job updates.</p>
      </section>

      <!-- (other sections remain same) -->
      <!-- ... keep your other content as before ... -->

      <!-- MAP -->
      <section class="section-card">
        <h2>World Map</h2>
        <div id="map"></div>
        <div class="small" style="margin-top:8px;">Interactive map (OpenStreetMap + Leaflet). Marker: Indian Institute of Information Technology Allahabad.</div>
      </section>

    </section>

    <!-- RIGHT -->
    <aside class="right-col">
      <div class="section-card"><h2>Latest Events</h2><ul><li>Ph.D. positions — contact when available</li><li>Workshops & announcements</li></ul></div>

      <div class="section-card" style="margin-top:16px;">
        <h2>Quick Weather</h2>
        <div id="mini-weather">Loading...</div>
      </div>
    </aside>

  </main>

  <!-- FOOTER -->
  <footer><div class="footer-line" id="footer-line">© 2025 Subrata Pramanik. All Rights Reserved. &nbsp; | &nbsp; Profile views on this browser: <span id="view-count-footer">0</span></div></footer>

  <!-- MODAL -->
  <div id="modal" class="modal" onclick="closeModal(event)"><div class="content" id="modal-content"><img id="modal-img" src="" alt=""/></div></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    /* ---------- (All your existing JS code is the same) ---------- */
    /* For brevity I omitted re-pasting every function; in your project copy your JS from previous file */
    /* ... but ensure you keep initWeather(), Leaflet map code, gallery and jobs code, etc. ... */

    // Minimal required to show clock + view count on initial page load:
    function updateClock(){
      const now = new Date();
      document.getElementById('clock').innerText = now.toLocaleTimeString();
      document.getElementById('date').innerText = now.toLocaleDateString();
    }
    setInterval(updateClock,1000);
    updateClock();

    // Show processed background image by using the CSS var (no extra JS needed)
    document.addEventListener('DOMContentLoaded', function(){
      // you can initialize any other JS here (map, jobs, gallery)
    });
  </script>
</body>
</html>
