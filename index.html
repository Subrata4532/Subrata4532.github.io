<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Subrata Pramanik</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>

<body>

  <!-- ‚≠ê NEW PRELOADER (OPTION B) ‚≠ê -->
  <div id="preloader">
      <div class="loader-text">üôè Namaskar üôè</div>
      <div class="loader-bar"></div>
      <div class="loader-sub">loading...</div>
  </div>

  <!-- INDIA FLAG RIBBON -->
  <div class="tricolor-ribbon" aria-hidden="true">
    <span class="saffron"></span><span class="white"></span><span class="green"></span>
  </div>

  <!-- TOP INFO -->
  <div id="top-info" aria-live="polite">
    <span id="top-day">‚Äî</span> |
    <span id="top-date">‚Äî</span> |
    <span id="top-time">‚Äî</span> |
    üìç <span id="top-location">Detecting‚Ä¶</span>
  </div>

  <!-- Hidden mini-map -->
  <div id="user-map" aria-hidden="true"></div>

  <!-- HEADER -->
  <header class="topbar" id="site-header" role="banner">
    <div class="wrap">
      <div class="title" id="site-title">Subrata Pramanik</div>

      <div class="header-controls" role="toolbar">
        <select id="language-switcher">
          <option value="en">EN</option><option value="hi">HI</option><option value="bn">BN</option>
        </select>
        <button id="theme-toggle">üåô</button>
        <button id="download-cv" class="btn cv-btn">Download CV</button>
      </div>
    </div>

    <nav class="global">
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#education">Education</a>
      <a href="#experience">Experience</a>
      <a href="#teaching">Teaching</a>
      <a href="#projects">Projects</a>
      <a href="#skills">Skills</a>
      <a href="#resume">Resume</a>
      <a href="#publications">Publications</a>
      <a href="#memory">Memory</a>
      <a href="#jobs">Job Updates</a>
      <a href="#meeting">Meeting</a>
      <a href="#contact">Contact</a>
      <a href="#updates">Updates</a>
    </nav>
  </header>

  <main class="container" id="page-main">

    <!-- LEFT SIDEBAR -->
    <aside class="left-col">
      <div class="section-card profile">
        <div class="img"><img id="profile-img" src="images/subrata_profile_circle_HD_new.png"></div>
        <h3>Subrata Pramanik</h3>
        <p class="meta">Junior Research Fellow<br>Indian Institute Of Information Technology, Allahabad</p>

        <div class="info-block">
          <div class="small">Now</div>
          <div id="clock" class="big">--:--:--</div>
          <div id="date" class="small">--</div>
          <div id="dayname" class="small">--</div>
        </div>

        <div class="info-block">
          <div class="small">Local temperature</div>
          <div id="temperature" class="big">‚Äî¬∞C</div>
        </div>
      </div>

      <div class="section-card">
        <h2>Quick Links</h2>
        <ul class="quick-links">
          <li><a href="#resume">Resume</a></li>
          <li><a href="#publications">Publications</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
    </aside>

    <!-- CENTER COLUMN -->
    <section class="center-col">

      <section id="home" class="section-card">
        <h2>Home</h2>
        <p>Hello ‚Äî I am <strong id="intro-name">Subrata Pramanik</strong>.</p>
      </section>

      <section id="about" class="section-card"><h2>About</h2><p>...</p></section>
      <section id="education" class="section-card"><h2>Education</h2><ul><li>M.TECH + Ph.D ‚Äî IIIT Allahabad ‚Äî (2024-2028)</li></ul></section>
      <section id="experience" class="section-card"><h2>Experience</h2><ul><li>Junior Research Fellow ‚Äî (current)</li></ul></section>

      <!-- MEMORY (GALLERY) -->
      <section id="memory" class="section-card">
        <h2>Memory (Gallery)</h2>
        <div class="gallery-controls">
          <select id="year-select"></select>
          <input id="image-file" type="file" accept="image/*">
          <button class="btn" onclick="addGalleryImage()">Add</button>
          <button class="btn" onclick="clearGallery()">Clear</button>
        </div>
        <div id="gallery-grid" class="gallery-grid"></div>
      </section>

      <!-- JOB UPDATES -->
      <section id="jobs" class="section-card">
        <h2>Job Updates</h2>

        <!-- Filters -->
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px;">
          <select id="filter-worktype"><option value="">All Work Types</option><option>Remote</option><option>Hybrid</option><option>On-site</option></select>
          <select id="filter-experience"><option value="">All Experience</option><option>Fresher</option><option>Early</option><option>Mid</option><option>Experienced</option></select>
          <select id="filter-country"><option value="">All Countries</option><option>India</option><option>USA</option><option>Other</option></select>

          <input id="job-search" placeholder="Search title or company" style="flex:1;padding:8px;border-radius:8px;border:1px solid #ddd;">
          <button class="btn" onclick="renderJobs()">Filter</button>
        </div>

        <!-- Add new job -->
        <div style="margin-top:12px;border-top:1px dashed #ccc;padding-top:12px;">
          <h3>Add New Job</h3>
          <input id="new-title" placeholder="Role title" style="width:100%;padding:8px;margin-top:6px">
          <input id="new-company" placeholder="Company / institute" style="width:100%;padding:8px;margin-top:6px">

          <div style="display:flex;gap:8px;margin-top:6px;">
            <select id="new-country"><option>India</option><option>USA</option><option>Other</option></select>
            <select id="new-employmenttype"><option>Intern</option><option>Full-time</option><option>Part-time</option><option>Contract</option></select>
            <select id="new-worktype"><option>Remote</option><option>Hybrid</option><option>On-site</option></select>
            <select id="new-explevel"><option>Fresher</option><option>Early</option><option>Mid</option><option>Experienced</option></select>
            <input id="new-location" placeholder="City / Remote" style="flex:1;padding:8px;border-radius:6px;">
          </div>

          <div style="margin-top:8px;">
            <button class="btn" onclick="addJob()">Add Job</button>
            <button class="btn" style="background:#fff;color:#333;border:1px solid #ddd;" onclick="clearJobs()">Clear All</button>
          </div>
        </div>

        <div id="job-list" style="margin-top:12px;"></div>
      </section>

      <section id="meeting" class="section-card">
        <h2>Schedule a Meeting</h2>
        <a class="btn" href="https://calendly.com/subrata-official111/30min" target="_blank">Book 30min</a>
      </section>

      <section class="section-card">
        <h2>World Map</h2>
        <div id="map" style="min-height:260px;"></div>
      </section>

      <section id="contact" class="section-card">
        <h2>Contact</h2>
        <form id="contact-form" onsubmit="return contactFormSubmit(event)">
          <label>Name</label><input type="text" id="c_name" required>
          <label>Email</label><input type="email" id="c_email" required>
          <label>Message</label><textarea id="c_msg" rows="4" required></textarea>
          <div style="margin-top:10px;"><button class="btn">Send Message</button></div>
        </form>
      </section>

    </section>

    <!-- RIGHT SIDEBAR -->
    <aside class="right-col">
      <div class="section-card"><h2>Latest Events</h2><ul><li>Coming soon</li></ul></div>
      <div class="section-card"><h2>7-day Weather</h2><div id="daily-weather">Loading‚Ä¶</div></div>
    </aside>

  </main>

  <footer>
    <div class="footer-line">
      <div class="footer-inner">
        <span id="footer-text">¬© 2025 Subrata Pramanik. All Rights Reserved.</span>
        <span class="sep">|</span>
        <span>Profile views: <strong id="view-count-footer">0</strong></span>
      </div>
    </div>
  </footer>

  <div id="modal" class="modal" onclick="closeModal(event)">
    <div class="content" id="modal-content"><img id="modal-img"></div>
  </div>

  <div id="chatbot-bubble">üí¨</div>
  <div id="chatbot-box" aria-hidden="true">
    <div id="chatbot-header">Assistant</div>
    <div id="chatbot-messages">
      <div class="chatbot-msg bot">Hello! I‚Äôm your assistant. How can I help you?</div>
    </div>
    <div id="chatbot-input-area">
      <input type="text" id="chatbot-input" placeholder="Type a message...">
      <button id="chatbot-send">Send</button>
    </div>
  </div>

  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="script.js"></script>

  <!-- ‚≠ê NEW PRELOADER SCRIPT ‚≠ê -->
  <script>
  document.addEventListener("DOMContentLoaded", function() {
      setTimeout(() => {
          const pre = document.getElementById("preloader");
          pre.style.opacity = "0";
          setTimeout(() => pre.style.display = "none", 300);
      }, 1500);
  });
  </script>

</body>
</html>
