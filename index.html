<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Subrata Pramanik — Personal Webpage</title>

  <!-- Leaflet CSS (free, no API key) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    /* ===== page-wide gradient and side decorations (Option A) ===== */
    :root{
      --accent1:#6b1f5b;
      --accent2:#3a1f2f;
      --bg:#fbf6fb;
      --card: rgba(255,255,255,0.95);
      --muted:#6d6d6d;
      --max-width:1100px;
    }
    html,body{ margin:0; padding:0; font-family: "Georgia", serif; background: var(--bg); }

    /* Soft fixed side gradients that fill the blank left & right areas */
    body::before, body::after{
      content:"";
      position:fixed;
      top:0;
      bottom:0;
      width:160px;
      z-index:-1;
      pointer-events:none;
      filter: blur(28px) saturate(1.05);
      opacity:0.65;
    }
    body::before{
      left:0;
      background: linear-gradient(180deg, rgba(107,31,91,0.10), rgba(155,43,121,0.06) 40%, rgba(255,255,255,0) 100%);
      transform: translateX(-20px);
    }
    body::after{
      right:0;
      background: linear-gradient(180deg, rgba(58,31,47,0.09), rgba(107,31,91,0.05) 45%, rgba(255,255,255,0) 100%);
      transform: translateX(20px);
    }

    /* Header and nav */
    header.topbar{
      background: linear-gradient(90deg, rgba(107,31,91,0.95), rgba(58,31,47,0.95));
      color:#fff;
      padding:28px 0 8px;
      box-shadow:0 10px 20px rgba(0,0,0,0.12);
      position: sticky; top:0; z-index:30;
    }
    .wrap{ max-width:var(--max-width); margin:0 auto; padding:0 20px; }
    .title{ text-align:center; font-size:30px; font-weight:700; }
    nav.global{ display:flex; justify-content:center; gap:12px; padding:10px 8px; background: rgba(0,0,0,0.08); }
    nav.global a{ color:#fff; text-decoration:none; padding:6px 12px; border-radius:6px; font-weight:600; }
    nav.global a:hover{ background: rgba(255,255,255,0.06); }

    /* Main grid: left, center, right */
    main.container{ max-width:var(--max-width); margin:30px auto; padding:0 20px; display:grid; grid-template-columns: 260px 1fr 320px; gap:24px; align-items:start; }
    @media (max-width:1100px){ main.container{ grid-template-columns: 1fr; } .left-col{ order:1 } .center-col{ order:2 } .right-col{ order:3 } body::before,body::after{ display:none; } }

    /* Cards */
    .section-card{ background:var(--card); border-radius:12px; padding:18px; margin-bottom:20px; box-shadow:0 8px 24px rgba(40,10,30,0.04); border:1px solid rgba(0,0,0,0.03); }
    .section-card h2{ margin-top:0; color:var(--accent2); font-size:18px; border-bottom:1px dashed rgba(0,0,0,0.06); padding-bottom:8px; }

    /* Left profile */
    .profile .img{ width:100%; height:260px; overflow:hidden; border-radius:8px; background:#ddd; display:flex; align-items:center; justify-content:center; }
    .profile img{ width:100%; height:100%; object-fit:cover; display:block; }
    .profile h3{ text-align:center; margin:12px 0 6px; font-size:18px; }
    .profile p.meta{ text-align:center; font-size:13px; color:var(--muted); line-height:1.4; }

    /* Map */
    #map{ width:100%; height:320px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); }

    /* Jobs */
    .job-card{ background:#fff; padding:10px 12px; border-radius:10px; margin:10px 0; border-left:6px solid var(--accent1); box-shadow:0 6px 12px rgba(30,10,30,0.03); }
    .pill{ display:inline-block; background:rgba(0,0,0,0.06); padding:4px 8px; border-radius:200px; font-size:12px; }

    /* Footer */
    footer{ margin-top:30px; padding:18px 0; text-align:center; background:var(--accent2); color:white; }

    /* small helpers */
    .small{ font-size:13px; color:var(--muted); }
    .btn{ background:var(--accent1); color:white; padding:8px 12px; border-radius:8px; border:none; cursor:pointer; }

    /* thin dotted separators between centered cards to make vertical rhythm */
    .section-card + .section-card{ border-top: 6px solid rgba(0,0,0,0.02); padding-top:22px; }

  </style>
</head>
<body>

  <!-- Header -->
  <header class="topbar">
    <div class="wrap">
      <div class="title">Welcome to My Webpage</div>
    </div>
    <nav class="global" aria-label="Main navigation">
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#education">Education</a>
      <a href="#experience">Experience</a>
      <a href="#teaching">Teaching</a>
      <a href="#courses">Courses</a>
      <a href="#resume">Resume</a>
      <a href="#publications">Publications</a>
      <a href="#projects">Projects</a>
      <a href="#skills">Skills</a>
      <a href="#awards">Awards</a>
      <a href="#talks">Talks</a>
      <a href="#services">Services</a>
      <a href="#blog">Blog</a>
      <a href="#contact">Contact</a>
      <a href="#updates">Updates</a>
      <a href="#jobs">Job Updates</a>
    </nav>
  </header>

  <main class="container" role="main">

    <!-- LEFT: profile -->
    <aside class="left-col">
      <div class="profile section-card">
        <!-- Uploaded image path (replace with repo path when publishing) -->
        <div class="img">
          <img src="/mnt/data/Screenshot (33).png" alt="Subrata Pramanik profile image">
        </div>
        <h3>Subrata Pramanik</h3>
        <p class="meta">Junior Research Fellow<br>
          M.Tech – Ph.D., Indian Institute of Information Technology Allahabad<br>
          <span class="small">Contact: add-your-phone • add-your-email@example.com</span>
        </p>

        <div style="margin-top:12px;">
          <div class="small">Current time</div>
          <div id="clock" style="font-weight:700; margin-top:6px;">--:--:--</div>
          <div id="date" class="small"></div>
        </div>

        <div style="margin-top:12px;">
          <div class="small">Local temperature</div>
          <div id="temperature" style="font-weight:700; margin-top:6px;">API key required</div>
          <div class="small">(Add OpenWeather API key in script to show live temp)</div>
        </div>
      </div>

      <div class="section-card" style="margin-top:14px;">
        <h2>Quick Links</h2>
        <ul>
          <li><a href="#resume">Resume</a></li>
          <li><a href="#publications">Publications</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
    </aside>

    <!-- CENTER: main content -->
    <section class="center-col">

      <div id="home" class="section-card">
        <h2>Home</h2>
        <p>Welcome — I am <strong>Subrata Pramanik</strong>, M.Tech – Ph.D. from Indian Institute of Information Technology Allahabad. This page shows my profile, publications, projects, and job updates.</p>
      </div>

      <div id="about" class="section-card">
        <h2>About</h2>
        <p>Replace this paragraph with a short biography. Keep it professional and concise.</p>
      </div>

      <div id="education" class="section-card">
        <h2>Education</h2>
        <ul>
          <li>M.Tech — (specialization) — Indian Institute of Information Technology Allahabad</li>
          <li>Ph.D — (specialization) — Indian Institute of Information Technology Allahabad</li>
        </ul>
      </div>

      <div id="experience" class="section-card">
        <h2>Experience</h2>
        <ul class="small">
          <li>Junior Research Fellow — (current)</li>
          <li>Previous roles — add details here</li>
        </ul>
      </div>

      <div id="teaching" class="section-card"><h2>Teaching</h2><p>Courses taught (if any).</p></div>
      <div id="courses" class="section-card"><h2>Courses</h2><p>List of courses.</p></div>

      <div id="resume" class="section-card">
        <h2>Resume</h2>
        <p><a href="#" download>Download Resume (PDF)</a></p>
      </div>

      <div id="publications" class="section-card">
        <h2>Publications</h2>
        <ol>
          <li>Paper 1 — Journal/Conference (Year)</li>
          <li>Paper 2 — Journal/Conference (Year)</li>
        </ol>
      </div>

      <div id="projects" class="section-card">
        <h2>Projects</h2>
        <ul>
          <li>Project A — short description</li>
          <li>Project B — short description</li>
        </ul>
      </div>

      <div id="skills" class="section-card">
        <h2>Skills</h2>
        <p>Image Processing • Computer Vision • Deep Learning • Python • PyTorch • MATLAB</p>
      </div>

      <div id="awards" class="section-card">
        <h2>Awards & Honours</h2>
        <ul><li>Add awards here</li></ul>
      </div>

      <div id="talks" class="section-card"><h2>Talks</h2><p>Invited talks / seminars.</p></div>

      <div id="services" class="section-card"><h2>Professional Services</h2><p>Reviewer, PC member, etc.</p></div>

      <div id="blog" class="section-card"><h2>Blog</h2><p>Link to blog or articles.</p></div>

      <div id="contact" class="section-card">
        <h2>Contact</h2>
        <form class="contact" onsubmit="return contactFormSubmit(event)">
          <label>Name</label><input type="text" id="c_name" required />
          <label>Email</label><input type="email" id="c_email" required />
          <label>Message</label><textarea id="c_msg" rows="4" required></textarea>
          <div style="margin-top:10px;"><button class="btn">Send Message</button></div>
        </form>
      </div>

      <div id="updates" class="section-card">
        <h2>Latest Updates</h2>
        <ul>
          <li>Add your latest workshop / event here</li>
        </ul>
      </div>

      <!-- JOBS -->
      <div id="jobs" class="section-card">
        <h2>Job Updates</h2>
        <div class="small">India / USA streams available. Add and filter postings below.</div>

        <div style="margin-top:10px;">
          <div style="display:flex; gap:8px; margin-bottom:8px;">
            <button class="btn" onclick="setTab('India')">India</button>
            <button class="btn" onclick="setTab('USA')">USA</button>
            <input id="search-key" placeholder="Search title or company" style="flex:1; padding:8px; border-radius:8px; border:1px solid #ddd;" />
            <button class="btn" onclick="renderJobs()">Apply</button>
          </div>

          <div id="job-list"></div>

          <hr style="margin:12px 0;" />
          <h3 style="margin:0 0 6px;">Add New Job</h3>
          <input id="new-title" placeholder="Role title" style="width:100%; padding:8px; margin-top:6px" />
          <input id="new-company" placeholder="Company / Institute" style="width:100%; padding:8px; margin-top:6px" />
          <div style="display:flex; gap:8px; margin-top:6px;">
            <select id="new-country"><option>India</option><option>USA</option></select>
            <select id="new-type"><option>Intern</option><option>Full-time</option><option>Remote</option><option>Hybrid</option></select>
            <input id="new-location" placeholder="City / Remote" style="flex:1" />
          </div>
          <div style="margin-top:8px;"><button class="btn" onclick="addJob()">Add Job</button> <button onclick="clearJobs()" style="padding:8px;border-radius:8px;border:1px solid #ddd;">Clear All</button></div>
        </div>
      </div>

      <!-- World map (Leaflet) -->
      <div class="section-card">
        <h2>World Map</h2>
        <div id="map"></div>
        <div class="small" style="margin-top:8px;">Interactive map (OpenStreetMap + Leaflet). Marker: Indian Institute of Information Technology Allahabad.</div>
      </div>

    </section>

    <!-- RIGHT: updates + weather -->
    <aside class="right-col">
      <div class="section-card">
        <h2>Latest Events</h2>
        <ul>
          <li>Ph.D. positions — contact when available</li>
          <li>Workshops & announcements</li>
        </ul>
      </div>

      <div class="section-card" style="margin-top:16px;">
        <h2>Quick Weather</h2>
        <div id="mini-weather">API key required to show live weather.</div>
      </div>
    </aside>

  </main>

  <footer>
    <div class="wrap">© 2025 Subrata Pramanik. All Rights Reserved.</div>
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    /* ======= Configuration =======
       NOTE: Map + tiles use OpenStreetMap via Leaflet (free, no API key).
       Coordinates set to Indian Institute of Information Technology Allahabad.
    */
    const IIIT_ALLAHABAD_COORDS = { lat: 25.4878, lon: 81.8489 }; // approximate location for marker

    /* Clock & Date */
    function updateClock() {
      const now = new Date();
      const hh = String(now.getHours()).padStart(2,'0');
      const mm = String(now.getMinutes()).padStart(2,'0');
      const ss = String(now.getSeconds()).padStart(2,'0');
      document.getElementById('clock').innerText = hh + ":" + mm + ":" + ss;
      document.getElementById('date').innerText = now.toLocaleDateString();
    }
    setInterval(updateClock, 1000);
    updateClock();

    /* Leaflet map init (no API key needed) */
    const map = L.map('map').setView([IIIT_ALLAHABAD_COORDS.lat, IIIT_ALLAHABAD_COORDS.lon], 5);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom:19, attribution:'&copy; OpenStreetMap contributors'
    }).addTo(map);

    // add marker with popup
    const marker = L.marker([IIIT_ALLAHABAD_COORDS.lat, IIIT_ALLAHABAD_COORDS.lon]).addTo(map);
    marker.bindPopup("<strong>Indian Institute of Information Technology Allahabad</strong>").openPopup();

    // clicking map shows coords in popup
    map.on('click', function(e){
      L.popup().setLatLng(e.latlng).setContent("Lat: " + e.latlng.lat.toFixed(4) + ", Lon: " + e.latlng.lng.toFixed(4)).openOn(map);
    });

    /* ===== Jobs logic (localStorage) ===== */
    const JOBS_KEY = "subrata_jobs_v1";
    function seedJobs(){
      if(localStorage.getItem(JOBS_KEY)) return;
      const seed = [
        {id: Date.now()+1, title:"Research Intern - Medical Imaging", company:"Indian Institute of Information Technology Allahabad", country:"India", type:"Intern", location:"Allahabad", url:"", date: new Date().toISOString()},
        {id: Date.now()+2, title:"Postdoc - Computer Vision", company:"University of X", country:"USA", type:"Full-time", location:"Boston, MA", url:"", date: new Date().toISOString()}
      ];
      localStorage.setItem(JOBS_KEY, JSON.stringify(seed));
    }
    function readJobs(){ seedJobs(); return JSON.parse(localStorage.getItem(JOBS_KEY) || "[]").sort((a,b)=> new Date(b.date)-new Date(a.date)); }
    function saveJobs(list){ localStorage.setItem(JOBS_KEY, JSON.stringify(list)); }
    let activeTab = "India";
    function setTab(t){ activeTab = t; renderJobs(); }
    function renderJobs(){
      const all = readJobs();
      const searchKey = document.getElementById('search-key').value.trim().toLowerCase();
      let filtered = all.filter(j=> j.country === activeTab);
      if(searchKey) filtered = filtered.filter(j=> (j.title + ' ' + j.company + ' ' + j.location).toLowerCase().includes(searchKey));
      const listEl = document.getElementById('job-list'); listEl.innerHTML = "";
      if(filtered.length === 0){ listEl.innerHTML = "<div class='small'>No job updates.</div>"; return; }
      filtered.forEach(j=>{
        const div = document.createElement('div');
        div.className = "job-card";
        div.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center;">
          <div style="flex:1">
            <div style="font-weight:700">${escapeHtml(j.title)}</div>
            <div class="small">${escapeHtml(j.company)} • ${escapeHtml(j.location)} • <span class="small">${new Date(j.date).toLocaleDateString()}</span></div>
            <div style="margin-top:8px;"><span class="pill">${escapeHtml(j.type)}</span> ${j.url ? '<a href="'+escapeAttr(j.url)+'" target="_blank" class="small" style="margin-left:8px">Apply</a>' : ''}</div>
          </div>
          <div style="margin-left:12px;"><button onclick="removeJob('+j.id+')" style="padding:6px 8px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer">Remove</button></div>
        </div>`;
        listEl.appendChild(div);
      });
    }
    function addJob(){
      const title = document.getElementById('new-title').value.trim();
      const company = document.getElementById('new-company').value.trim();
      const country = document.getElementById('new-country').value;
      const type = document.getElementById('new-type').value;
      const location = document.getElementById('new-location').value.trim();
      if(!title || !company){ alert("Enter title and company."); return; }
      const jobs = readJobs();
      jobs.unshift({ id: Date.now(), title, company, country, type, location, url:"", date:new Date().toISOString()});
      saveJobs(jobs);
      document.getElementById('new-title').value=""; document.getElementById('new-company').value=""; document.getElementById('new-location').value="";
      renderJobs();
    }
    function removeJob(id){ if(!confirm('Remove this job?')) return; const jobs = readJobs().filter(j=> j.id !== id); saveJobs(jobs); renderJobs(); }
    function clearJobs(){ if(!confirm('Clear all job postings?')) return; localStorage.removeItem(JOBS_KEY); seedJobs(); renderJobs(); }
    function escapeHtml(s){ if(!s) return ''; return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
    function escapeAttr(s){ if(!s) return ''; return s.replace(/"/g,'&quot;'); }

    /* Contact form placeholder */
    function contactFormSubmit(e){ e.preventDefault(); alert("Thanks! Message saved locally (demo). Replace this with a real mail handler if needed."); document.getElementById('c_name').value=''; document.getElementById('c_email').value=''; document.getElementById('c_msg').value=''; return false; }

    /* Initialize on load */
    document.addEventListener('DOMContentLoaded', function(){ seedJobs(); renderJobs(); });

    /* Optional weather: left as placeholder (requires OpenWeather API key) */
    const OPENWEATHER_API_KEY = ""; // add key here to show live temperature
    async function fetchWeather(lat,lon){
      if(!OPENWEATHER_API_KEY) return;
      try{
        const r = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${OPENWEATHER_API_KEY}&units=metric`);
        if(!r.ok) throw new Error('fail');
        const d = await r.json();
        document.getElementById('temperature').innerText = Math.round(d.main.temp) + "°C — " + (d.weather[0].description || '');
        document.getElementById('mini-weather').innerText = `At ${d.name}: ${Math.round(d.main.temp)}°C — ${d.weather[0].description || ''}`;
      }catch(e){ console.warn('weather failed', e); }
    }
    // fetchWeather(IIIT_ALLAHABAD_COORDS.lat, IIIT_ALLAHABAD_COORDS.lon); // uncomment after adding API key

  </script>
</body>
</html>
