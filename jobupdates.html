<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Job Updates — Subrata</title>
<link rel="stylesheet" href="style.css"/>
</head><body>
<div class="container">
  <aside class="sidebar">
    <div class="profile-photo"><img src="profile.jpg" alt="Subrata"></div>
    <h2>Subrata Pramanik</h2>
    <nav class="side-nav">
      <a href="index.html">Home</a>
      <a href="jobupdates.html" class="active">Job Updates</a>
    </nav>
  </aside>

  <main class="content">
    <section class="card">
      <h1>Job Updates — Post & View</h1>
      <p class="lead">Share job opportunities (India / USA). Use the form below to add jobs — they will appear immediately in the list and in the daily updates panel.</p>

      <form id="job-form" class="job-form">
        <input name="title" placeholder="Job title (e.g., Research Engineer)" required/>
        <input name="company" placeholder="Company / Organization" required/>
        <input name="link" placeholder="Link to job description (URL)" />
        <select name="region">
          <option value="India">India</option>
          <option value="USA">USA</option>
          <option value="Remote">Remote</option>
        </select>
        <select name="level">
          <option value="Internship">Internship</option>
          <option value="Early">Early (0-2 yrs)</option>
          <option value="Mid">Mid (2-5 yrs)</option>
          <option value="Senior">Senior (5+ yrs)</option>
        </select>
        <textarea name="desc" placeholder="Short description (required)" required></textarea>
        <button type="submit" style="padding:10px;border-radius:8px;background:var(--accent);color:#fff;border:0">Add Job</button>
      </form>
    </section>

    <section class="card">
      <h2>Filters</h2>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <select id="filter-region">
          <option value="">All regions</option>
          <option value="India">India</option>
          <option value="USA">USA</option>
          <option value="Remote">Remote</option>
        </select>
        <select id="filter-level">
          <option value="">All levels</option>
          <option value="Internship">Internship</option>
          <option value="Early">Early</option>
          <option value="Mid">Mid</option>
          <option value="Senior">Senior</option>
        </select>
        <input id="filter-q" placeholder="Search title/company/desc" />
      </div>
    </section>

    <section class="card">
      <h2>Job Listings</h2>
      <div id="jobs-list"></div>
    </section>

    <section class="card">
      <h2>Daily Updates (recent job posts)</h2>
      <p>Recent posts show here (newest first):</p>
      <div id="daily-updates"></div>
    </section>

    <div class="card footer">
      <div>© <span class="auto-year"></span> Subrata Pramanik</div>
      <div>Time: <span id="live-time"></span> | Visitors: <span id="visitor-count">0</span></div>
    </div>
  </main>
</div>

<script src="script.js"></script>
<script>
/* small helper to mirror jobs into Daily Updates area */
function refreshDailyUpdates(){
  const jobs = JSON.parse(localStorage.getItem("jobs_v1")||"[]");
  const container = document.getElementById("daily-updates");
  if(!container) return;
  container.innerHTML = "";
  jobs.sort((a,b)=> new Date(b.date)-new Date(a.date));
  jobs.slice(0,10).forEach(j=>{
    const el = document.createElement("div");
    el.className = "job-card";
    el.innerHTML = `<strong>${j.title}</strong> — ${j.company} <div style="font-size:0.9rem;color:var(--muted)">${new Date(j.date).toLocaleString()} • ${j.region} • ${j.level} • <a href="${j.link}" target="_blank">link</a></div><div style="margin-top:8px">${j.desc}</div>`;
    container.appendChild(el);
  });
}
// initial
refreshDailyUpdates();
// also watch localStorage changes (other tab)
window.addEventListener("storage", ()=> { refreshDailyUpdates(); });
</script>
</body></html>
